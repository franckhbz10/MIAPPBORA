# MIAPPBORA - Backend Dependencies (PRODUCCIÓN - OPTIMIZADO)
# Aplicación de aprendizaje del idioma Bora
# 
# NOTA: Esta versión NO incluye PyTorch ni modelos locales de HuggingFace
# porque en producción usamos 100% OpenAI API para embeddings y LLM.
# Esto reduce el tamaño de la imagen de ~5.7GB a ~500MB.

# ===== FastAPI Framework =====
fastapi==0.104.1
uvicorn[standard]==0.24.0
python-multipart==0.0.6

# ===== Database & ORM =====
sqlalchemy==2.0.23
alembic==1.12.1
psycopg2-binary==2.9.9

# ===== Supabase =====
supabase==2.0.3
postgrest==0.13.0

# ===== Pydantic & Validation =====
pydantic==2.5.0
pydantic-settings==2.1.0
email-validator==2.1.0

# ===== Authentication & Security =====
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
bcrypt==4.1.1

# ===== Langchain & RAG =====
langchain==0.1.0
langchain-community==0.0.10
langchain-core==0.1.10

# ===== OpenAI (Responses API) =====
# Usamos AsyncOpenAI con Responses API; requerimos >=1.40 por compatibilidad
openai>=1.40.0,<2.0.0

# ===== Vector Store (pgvector) =====
pgvector==0.2.4
psycopg[binary]==3.1.16

# ===== HuggingFace API (solo cliente HTTP, sin modelos locales) =====
huggingface-hub==0.24.6
# REMOVIDO: transformers, accelerate, einops, safetensors, sentence-transformers, torch
# Estos solo son necesarios para cargar modelos localmente.
# En producción con ALLOW_HF_LLM_FALLBACK=false no los necesitamos.

# ===== Utilities =====
python-dotenv==1.0.0
httpx==0.24.1
aiofiles==23.2.1
python-dateutil==2.8.2
